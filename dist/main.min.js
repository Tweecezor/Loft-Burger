"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e=document.querySelector(".menu__nav"),o=document.querySelectorAll(".assortment"),a=o.length,t=document.querySelector(".menu");e.addEventListener("click",function(){for(var e=0;e<a;e++)o[e].classList.remove("assortment--active");for(var t=function(n){o[n].addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),o[n].classList.contains("assortment--active"))o[n].classList.remove("assortment--active");else{for(var t=0;t<a;t++)o[t].classList.remove("assortment--active");o[n].classList.add("assortment--active")}})},n=0;n<a;n++)t(n)}),t.addEventListener("click",function(){for(var e=0;e<a;e++)o[e].classList.remove("assortment--active")})}(),function(){var e=document.querySelector(".team__list"),o=document.querySelectorAll(".personal"),a=document.querySelectorAll(".personal__name"),r=o.length;e.addEventListener("click",function(){for(var e=0;e<r;e++)o[e].classList.remove("personal--active");for(var t=function(n){a[n].addEventListener("click",function(e){if(e.stopPropagation(),e.preventDefault(),o[n].classList.contains("personal--active"))o[n].classList.remove("personal--active");else{for(var t=0;t<r;t++)o[t].classList.remove("personal--active");o[n].classList.add("personal--active")}})},n=0;n<r;n++)t(n)})}(),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[59.93848,30.31248],zoom:12},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark([59.9,30.31248],{hintContent:"Магазин бургеров №1",balloonContent:"BurgerShop#1"},{iconLayout:"default#image",iconImageHref:"icons/map-marker.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]}),n=new ymaps.Placemark([59.9,30.46],{hintContent:"Магазин бургеров №2",balloonContent:"BurgerShop#2"},{iconLayout:"default#image",iconImageHref:"icons/map-marker.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]}),o=new ymaps.Placemark([59.96,30.32],{hintContent:"Магазин бургеров №3",balloonContent:"BurgerShop#3"},{iconLayout:"default#image",iconImageHref:"icons/map-marker.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]}),a=new ymaps.Placemark([59.94,30.36],{hintContent:"Магазин бургеров №3",balloonContent:"BurgerShop#3"},{iconLayout:"default#image",iconImageHref:"icons/map-marker.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]});e.behaviors.disable("scrollZoom"),e.geoObjects.add(t).add(n).add(o).add(a)}),function(){var e=document.getElementById("close-hamburger"),t=document.getElementById("hamburger-menu-open"),n=document.getElementById("hamburger-menu");t.addEventListener("click",function(){n.classList.add("hamburger-menu-visible"),document.body.classList.add("no-scroll")}),e.addEventListener("click",function(){n.classList.remove("hamburger-menu-visible"),document.body.classList.remove("no-scroll")});var o=document.querySelector(".reviews__list"),i=(document.querySelector(".reviews__item"),document.querySelector(".reviews-modal")),s=document.querySelector(".reviews-modal__content"),a=document.querySelector(".reviews-modal__close");o.addEventListener("click",function(e){console.log("burron");var t=e.target;if("BUTTON"===t.tagName){var n=document.querySelectorAll(".reviews__text"),o=getComputedStyle(n[0]);if("none"==o.display){for(var a=0;a<n.length;a++)n[a].style.display="block";console.log(o.display),i.style.display="block";var r=t.previousElementSibling;s.innerHTML=r.innerHTML;for(var l=0;l<n.length;l++)n[l].style.display="none";document.body.classList.add("no-scroll"),console.log(o.display)}else{i.style.display="block";var c=t.previousElementSibling;s.innerHTML=c.innerHTML,document.body.classList.add("no-scroll")}}}),a.addEventListener("click",function(){i.style.display="none",document.body.classList.remove("no-scroll")}),document.addEventListener("keyup",function(e){27===e.keyCode&&(i.style.display="none",document.body.classList.remove("no-scroll"))})}(),$(function(){$(".section").each(function(){var e=$("<li>",{attr:{class:"change__item "},html:'<a href="#" class="change__link"></a>'});$(".change__list").append(e)}),$(".change__item").first().addClass("change__item-active"),$(document).on("wheel",function(e){e.preventDefault(),e.stopPropagation(),console.log(e.originalEvent.deltaY);var t,n,o=e.originalEvent.deltaY,a=$(".onepage-slider").find(".section").filter(".section--active"),r=a.index(),l=$(".change__item").eq(r);console.log(l),n=0<o?(t=a.next(),l.next()):(t=a.prev(),l.prev()),console.log(n);var c=t.index(),i=$(".onepage-slider__list");t.length&&i.animate({top:-100*c+"%"},1e3,function(){a.removeClass("section--active"),l.removeClass("change__item-active"),t.addClass("section--active"),n.addClass("change__item-active")})}),$(window).swipe({swipe:function(e,t,n,o,a,r){var l,c,i="up"===t?"next":"prev",s=$(".onepage-slider").find(".section").filter(".section--active"),d=s.index(),m=$(".change__item").eq(d);console.log(m),c="next"==i?(l=s.next(),m.next()):(l=s.prev(),m.prev()),console.log(c);var u=l.index(),v=$(".onepage-slider__list");l.length&&v.animate({top:-100*u+"%"},1e3,function(){s.removeClass("section--active"),m.removeClass("change__item-active"),l.addClass("section--active"),c.addClass("change__item-active")})}}),$(".wrapper").on("touchmove",function(e){e.preventDefault()}),$("body").on("click",".change__item",function(e){e.preventDefault();var t=$(this);console.log($(this));var n=$(".change__list").find(".change__item");o(t,n)});var o=function(e,t){var n=t.filter(".change__item-active"),o=$(".onepage-slider__list"),a=e.index();o.animate({top:-100*a+"%"},500,function(){n.removeClass("change__item-active"),e.addClass("change__item-active")})}}),$("body").on("click",".scroll-down-arrow",function(e){e.preventDefault(),$(this),console.log($(this));var t=$(".change__list").find(".change__item").filter(".change__item-active");console.log(t.next());var n=t.next();$(".onepage-slider__list").animate({top:"-100%"},500,function(){t.removeClass("change__item-active"),n.addClass("change__item-active")})}),$("body").on("click",".nav__item",function(e){e.preventDefault(),console.log(e.target.text),value=e.target.text,console.log("undefined"==typeof value?"undefined":_typeof(value));var t=$(".onepage-slider__list");switch(value){case"О нас":console.log("sfgsfg"),t.animate({top:"-100%"});break;case"Бургеры":t.animate({top:"-200%"});break;case"Команда":t.animate({top:"-300%"});break;case"Меню":t.animate({top:"-400%"});break;case"Отзывы":t.animate({top:"-500%"});break;case"Как мы работаем":t.animate({top:"-600%"});break;case"Контакты":t.animate({top:"-800%"})}}),function(){var t=document.querySelector(".burger-slider__item").offsetWidth+parseInt(getComputedStyle(document.querySelector(".burger-slider__item"),!0).marginRight),e=document.querySelectorAll(".burger-slider__item").length,n=t*e,o=document.querySelector(".burger-slider__list"),a=document.querySelector(".left-arrow"),r=document.querySelector(".right-arrow"),l=0;o.style.right=l,r.addEventListener("click",function(e){e.preventDefault(),console.log("клик по правой"),l<n&&(console.log(l),l+=t,console.log(l),o.style.right=l+"px"),l==n&&(l=0,console.log(l),o.style.right=l+"px")}),a.addEventListener("click",function(e){e.preventDefault(),console.log("клик по левой"),0<=l&&(l-=t,o.style.right=l+"px"),l<0&&(l=n-t,console.log(l),o.style.right=l+"px")})}(),function(){document.querySelector(".phone-mask").addEventListener("keydown",function(e){var t=!1,n=!1,o=!1;(0<=e.key||e.key<=9)&&(t=!0),"-"==e.key&&(o=!0),"+"==e.key&&(n=!0),"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"Backspace"!=e.key||(o=!0),o||t||n||e.preventDefault()}),document.querySelector(".room").addEventListener("keydown",function(e){var t=!1,n=!1;(0<=e.key||e.key<=9)&&(t=!0),"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"Backspace"!=e.key||(n=!0),n||t||e.preventDefault()}),document.querySelector(".floor").addEventListener("keydown",function(e){var t=!1,n=!1;(0<=e.key||e.key<=9)&&(t=!0),"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"Backspace"!=e.key||(n=!0),n||t||e.preventDefault()});var o=document.querySelector("#order-form"),e=document.querySelector(".order__form-button"),a=document.querySelector(".delivery-modal__content"),r=document.querySelector(".delivery-modal"),t=document.querySelector(".delivery-modal-close");function l(e){return e.checkValidity()?(e.style.border="0.0625rem solid #d1cfcb",!0):("room"==e.name&&console.log("комната не валидна"),!(e.style.border="0.0625rem solid red"))}e.addEventListener("click",function(e){if(e.preventDefault(),function(e){var t=!0;l(e.elements.name)||(t=!1);l(e.elements.phone)||(t=!1);l(e.elements.street)||(t=!1);l(e.elements.comment)||(t=!1);var n=document.querySelectorAll(".order__radio-elem"),o=document.querySelectorAll(".order__radio-fake");if(n[0].checked||n[1].checked)for(var a=0;a<o.length;a++)o[a].style.border="0.0625rem solid #d1cfcb";else{t=!1;for(var r=0;r<o.length;r++)o[r].style.border="0.0625rem solid red"}return t}(o)){var t=new FormData;t.append("name",o.elements.name.value),t.append("phone",o.elements.phone.value),t.append("comment",o.elements.comment.value),t.append("to","your@mail.ru"),console.log(t.getAll);var n=new XMLHttpRequest;n.responseType="json",n.open("POST","https://webdev-api.loftschool.com/sendmail"),n.send(t),n.addEventListener("load",function(){1==n.response.status?a.innerHTML="Сообщениие отправлено":a.innerHTML="Ошибка отправления",r.style.display="block",document.body.classList.add("no-scroll")})}}),t.addEventListener("click",function(e){e.preventDefault(),r.style.display="none",document.body.classList.remove("no-scroll")}),document.addEventListener("keyup",function(e){27===e.keyCode&&(r.style.display="none",document.body.classList.remove("no-scroll"))})}();